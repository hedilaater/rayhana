{% extends 'base-admin.html.twig' %}

{% block body %}
<div class="container-fluid px-4 mt-4">
    <div class="card shadow-lg">
        <div class="card-header bg-primary text-white">
            <h3 class="mb-0"><i class="fas fa-clipboard-list"></i> Liste des R√©clamations</h3>
        </div>
        <div class="card-body">
            <table id="reclamationTable" class="table table-striped table-bordered">
                <thead class="bg-light">
                    <tr>
                        <th>ID</th>
                        <th>Date</th>
                        <th>Message</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    {% for reclamation in reclamation %}
                        <tr>
                            <td>{{ reclamation.id }}</td>
                            <td>{{ reclamation.dateRec ? reclamation.dateRec|date('Y-m-d') : '' }}</td>
                            <td>{{ reclamation.messageRec }}</td>
                            <td>
                                <a href="{{ path('app_admin_reclamation_show', {'id': reclamation.id}) }}" class="btn btn-sm btn-primary">
                                    <i class="fas fa-eye"></i> Lire
                                </a>
                                <a href="{{ path('app_reponse_reclamation_admin', {'id': reclamation.id}) }}" class="btn btn-sm btn-warning">
                                    <i class="fas fa-reply"></i> R√©pondre
                                </a>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

{# DataTables Script #}
{% block javascripts %}
    {{ parent() }}
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#reclamationTable').DataTable({
                "paging": true,
                "searching": true,
                "ordering": true,
                "info": true,
                "language": {
                    "lengthMenu": "Afficher _MENU_ r√©clamations par page",
                    "zeroRecords": "Aucune r√©clamation trouv√©e",
                    "info": "Affichage de _START_ √† _END_ sur _TOTAL_ r√©clamations",
                    "infoEmpty": "Aucune r√©clamation disponible",
                    "infoFiltered": "(filtr√© de _MAX_ r√©clamations au total)",
                    "search": "üîç Rechercher:",
                    "paginate": {
                        "first": "Premier",
                        "last": "Dernier",
                        "next": "Suivant",
                        "previous": "Pr√©c√©dent"
                    }
                }
            });
        });
    </script>
{% endblock %}
{% endblock %}
